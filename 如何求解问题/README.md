#### 7-11连锁店商品价格：如何缩小解的空间
* 问题：已知四种商品价格之和，之乘积皆为7.11美元，且商品最小价格不低于0.01美元。求四种商品各自价格
* 求解步骤
1. 确定变量域：初步缩小解的空间
由每件商品最小价格不低于0.01美元，可知每件商品最大价格为7.08美元，为避免处理小数，采用美分为计数单位。从而得到整数集合的变量域
{0.01,0.02,0.03...7.08}
2. 由主因子入手：大大减小解的空间
由1得：
```
x+y+z+t=711
xyzt=711000000=2^6*3^2*5^6*79
```
则可知其中一件商品的价格能被79整除
3. 分情况讨论：消去不可能解
假设能被79整除的商品价格为x
1) x=79*1
则 y+z+t=632;yzt=2^6*3^2*5^6
2) x=79*2
则 y+z+t=553;yzt=2^5*3^2*5^6
......
由几个价格间的数学关系可得到最终的解


#### 第三章主要内容
1. 穷举搜索
2. 枚举在SAT问题，TSP问题，NLP问题中的应用
3.

#### 搜索空间最优解的传统方法（经典优化算法）
* 仅评估完整解的算法
1. 包括穷举搜索，局部搜索，爬山法，基于梯度的数值优化方法；模拟退火，禁忌搜索，演化算法
*  需要评估部分解算法
1. 部分解：原始问题的不完整解，或简化问题后的完整解
2. 处理部分解的难点
如何创造新的评估函数来评价部分解的质量？
如何将解空间组织成若干个能高效搜索的子空间？（分枝定界）

#### 穷举搜索
* 定义
> 检查搜索空间中的每一个解直至找到最好的全局解。“穷举”的意义在于，只有找遍搜索空间的每一处，才能确认已经找到最优解
* 缺点
由于搜索空间巨大，搜索耗时。比如TSP问题中，当城市规模达到50时，共需要穷举10^62条不同路径
* 优点（有趣的方面）
原理简单：系统地产生问题的每一个可能解。

#### 枚举SAT问题
枚举包含n个变量的SAT问题的搜索空间，步骤如下
1. 确立表达方式
产生长度为n的所有二进制串
2. 确立评估函数
串满足符合布尔表达式，则评估函数值为1；否则为0。一旦评估函数为1，则停止搜索
3. 更新最优解
依次给每个二进制串加上二进制1。每产生一个新串，就对其进行评估，得分最好的串作为当前最优解
4. 采用深度优先搜索来减少搜索空间
原理是将解空间按照变量取真还是假分成两个子空间，最终将整个解空间组织成树状结构。

图P44-3.1

深度优先搜索通过检查给定节点（即子空间）是否包含解，来避免不需要的沿枝搜索。

p45-x1,x2,x3,x4

#### 枚举TSP问题
* 难点1（评估函数）：有些城市之间并不相同，其排列为非法，该如何处理
对于非法排列，在评估函数中设置高惩罚值。
* 难点2（表达方式）：如何产生n个数的所有可能排列？
已知n个城市有n!个不同排列，则可通过定义函数实现：n!种排列各自对应一个整数及整数数组

#### 枚举NLP问题
* 表达方式：区间
用区间单元描述可能解。例如要找函数f(x1,x2)的最大值，且已知x1范围为[-1,3]。可以将x1的取值范围分为400个区间，每个区间单元长度为0.01，x2同理。搜索解空间的过程即穷举搜索单元的过程。一旦选出了具有最好评估价值的单元，就在该单元内继续划分区间。
* “粒度”问题



#### 局部搜索
* 步骤
1. 从搜索空间中找到一个解并评估其质量，将它定义为当前解
2. 找新解，若质量好于当前解，则替换；否则抛弃
3. 重复2直至在给定集中找不到更优解
* 极端情况
1. 随机均匀地从搜索空间中选择潜在解，此时局部搜索实质为枚举搜索。且由于随机性，可能重复选取已经试过的点
2. 变换的结果总是返回当前解，使搜索毫无进展
* 正确的方法（折衷）
在当前解的某个局部邻域范围内搜索下一个解。
* 局部搜索的关键：当前解的变换类型（决定了邻域的大小）
1. 邻域
2. 











                    


